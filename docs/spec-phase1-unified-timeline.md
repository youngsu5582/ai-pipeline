# Phase 1: í†µí•© íƒ€ì„ë¼ì¸ & ë°ì´í„° í—ˆë¸Œ

> ìš°ì„ ìˆœìœ„: P0 | ì˜ˆìƒ ê¸°ê°„: 1-2ì£¼
> ì˜ì¡´ì„±: ì—†ìŒ (í˜„ì¬ ìƒíƒœì—ì„œ ë°”ë¡œ êµ¬í˜„ ê°€ëŠ¥)

## ê°œìš”

í˜„ì¬ Pain Point: ì„¸ì…˜, ë©”ëª¨, ì‘ì—… ì´ë ¥, GitHub í™œë™ì´ ê°ê° ë³„ë„ íƒ­ì— ì¡´ì¬í•˜ì—¬ "ì˜¤ëŠ˜ ë‚´ê°€ ë­˜ í–ˆëŠ”ì§€" ì „ì²´ ê·¸ë¦¼ì„ íŒŒì•…í•˜ê¸° ì–´ë ¤ì›€.

í•´ê²°: ëª¨ë“  í™œë™ ë°ì´í„°ë¥¼ ì‹œê°„ìˆœìœ¼ë¡œ í†µí•©í•˜ì—¬ í•˜ë‚˜ì˜ íƒ€ì„ë¼ì¸ìœ¼ë¡œ ì œê³µ.

---

## 1.1 í†µí•© íƒ€ì„ë¼ì¸ ë·° (êµ¬í˜„ ì™„ë£Œ)

### ë°ì´í„° ì†ŒìŠ¤ & í†µí•© ë°©ì‹

| ì†ŒìŠ¤ | ì„œë²„ í•¨ìˆ˜ | íƒ€ì„ë¼ì¸ type |
|------|-----------|---------------|
| ì‘ì—… ì‹¤í–‰ | `jobHistory` (ì „ì—­ ë³€ìˆ˜) | `job` |
| Claude ì„¸ì…˜ | `findSessions(date)` | `session` |
| ë¹ ë¥¸ ë©”ëª¨ | `loadQuickMemos()` | `memo` (source: dashboard) |
| Obsidian ë©”ëª¨ | `parseObsidianMemos(date)` | `memo` (source: obsidian) |
| GitHub í™œë™ | `getGhAccounts()` + `fetchGithubEventsForAccount()` | `github` |
| ëª¨ë‹ í”Œëœ | `loadMorningPlans()` | `plan` |

> ì°¸ê³ : `parseObsidianMemos(date)`ëŠ” ê¸°ì¡´ `/api/obsidian/daily-memos` ì¸ë¼ì¸ ë¡œì§ì—ì„œ í—¬í¼ í•¨ìˆ˜ë¡œ ì¶”ì¶œë¨. GitHubëŠ” `Promise.allSettled`ë¡œ í˜¸ì¶œí•˜ì—¬ ì‹¤íŒ¨ ì‹œì—ë„ ë‚˜ë¨¸ì§€ ë°ì´í„° ì •ìƒ ë°˜í™˜.

### API: `GET /api/timeline`

```
GET /api/timeline?date=2026-02-06
```

**Response:**
```json
{
  "date": "2026-02-06",
  "items": [
    {
      "id": "job-1770340800544",
      "type": "job",
      "time": "2026-02-06T01:20:00.544Z",
      "title": "PR ë¦¬ë·° ì•Œë¦¼",
      "subtitle": "ì„±ê³µ (0.5s)",
      "icon": "job-success",
      "color": "green",
      "meta": { "jobId": "pr-review-reminder", "status": "success", "logId": 1770340800544 }
    },
    {
      "id": "session-704c131d-...",
      "type": "session",
      "time": "2026-02-06T01:12:35.675Z",
      "title": "dashboard",
      "subtitle": "ì²« ë©”ì‹œì§€ ë¯¸ë¦¬ë³´ê¸°...",
      "icon": "session",
      "color": "purple",
      "meta": { "sessionId": "704c131d-...", "projectPath": "-Users-iyeongsu-ai-pipeline-dashboard" }
    },
    {
      "id": "memo-memo-123",
      "type": "memo",
      "time": "2026-02-06T09:30:00Z",
      "title": "ECS graceful shutdown í™•ì¸ì¤‘",
      "icon": "memo",
      "color": "yellow",
      "meta": { "source": "dashboard", "memoId": "memo-123" }
    },
    {
      "id": "gh-pr-repo-123",
      "type": "github",
      "time": "2026-02-06T11:00:00Z",
      "title": "PR #2380 PROJECT-KEY-496 í´ë¼ì´ì–¸íŠ¸ í‚¤ ê·¸ë£¹ ì¶”ê°€",
      "subtitle": "org-user / aicreation / opened",
      "icon": "github-pr",
      "color": "blue",
      "meta": { "url": "https://github.com/...", "repo": "org/aicreation" }
    },
    {
      "id": "plan-mp-123",
      "type": "plan",
      "time": "2026-02-06T01:45:45.559Z",
      "title": "í•˜ë£¨ ì‹œì‘ ê³„íš",
      "subtitle": "ëª©í‘œ 3ê°œ / ì—…ë¬´ 12ê°œ",
      "icon": "plan",
      "color": "orange",
      "meta": { "planId": "mp-123" }
    }
  ],
  "summary": {
    "sessions": 3,
    "memos": 5,
    "jobRuns": 12,
    "github": 2,
    "plans": 1
  }
}
```

### í”„ë¡ íŠ¸ì—”ë“œ UI (index.html í™ˆ íƒ­)

ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ê³¼ 2ì—´ ë ˆì´ì•„ì›ƒ(ìµœê·¼ ì‹¤í–‰/ë©”ëª¨) **ì‚¬ì´**ì— íƒ€ì„ë¼ì¸ ë°°ì¹˜:

```
[4ì¹¸ ìš”ì•½ ì¹´ë“œ]
[ë¹ ë¥¸ ì•¡ì…˜ 3ê°œ]
[í†µí•© íƒ€ì„ë¼ì¸]  â† ì—¬ê¸°
[ìµœê·¼ ì‹¤í–‰ | ìµœê·¼ ë©”ëª¨]
```

**UI êµ¬ì„±ìš”ì†Œ:**
- **ì ‘ê¸°/í¼ì¹˜ê¸°**: í—¤ë” í´ë¦­ìœ¼ë¡œ íƒ€ì„ë¼ì¸ ë³¸ë¬¸ í† ê¸€ (í™”ì‚´í‘œ ì•„ì´ì½˜ íšŒì „)
- **íƒ€ì… í•„í„°**: ì‘ì—…/ì„¸ì…˜/ë©”ëª¨/GitHub/í”Œëœ chip ë²„íŠ¼ (í† ê¸€, opacityë¡œ ë¹„í™œì„± í‘œì‹œ)
- **ì‹œê°„ ë²”ìœ„ ìŠ¬ë¼ì´ë”**: 0~24ì‹œ ë“€ì–¼ í•¸ë“¤ ë“œë˜ê·¸ (0.5ì‹œê°„ ë‹¨ìœ„ ìŠ¤ëƒ…)
  - ë°ì´í„° ë¡œë“œ ì‹œ ì‹¤ì œ í™œë™ ì‹œê°„ ë²”ìœ„ë¡œ ìë™ ì„¤ì •
  - íŠ¸ë™ í´ë¦­ìœ¼ë¡œ ê°€ê¹Œìš´ í•¸ë“¤ ì´ë™
- **ì‹œê°„ëŒ€ë³„ ê·¸ë£¨í•‘**: ì˜¤ì „(~12ì‹œ) / ì˜¤í›„(12~18ì‹œ) / ì €ë…(18ì‹œ~) ì„¹ì…˜
- **íƒ€ì„ë¼ì¸ ì•„ì´í…œ**: ì„¸ë¡œ ë¼ì¸ + ì»¬ëŸ¬ ë„íŠ¸ + ì‹œê°„ + ì•„ì´ì½˜ + ì œëª©/ë¶€ì œëª©

### í´ë¦­ í•¸ë“¤ëŸ¬ (íƒ€ì„ë¼ì¸ â†’ ìƒì„¸ ë³´ê¸°)

| type | ë™ì‘ |
|------|------|
| `session` | `showTab('sessions')` â†’ `showSessionDetail(sessionId, projectPath)` |
| `job` | `showTab('jobs')` â†’ `showJobSubTab('history')` â†’ `showLogById(logId)` |
| `memo` | `showTab('notes')` |
| `plan` | `openMorningStart()` |
| `github` | `window.open(meta.url, '_blank')` |

### ì£¼ìš” í•¨ìˆ˜ (index.html)

| í•¨ìˆ˜ | ì—­í•  |
|------|------|
| `loadTimeline()` | API fetch + ì´ˆê¸° ì‹œê°„ ë²”ìœ„ ì„¤ì • + ë Œë”ë§ |
| `renderTimeline()` | í•„í„°/ì‹œê°„ë²”ìœ„ ì ìš© â†’ ì‹œê°„ëŒ€ë³„ ê·¸ë£¨í•‘ â†’ HTML ìƒì„± |
| `renderTimelineItem(item)` | ê°œë³„ ì•„ì´í…œ HTML |
| `handleTimelineClick(type, meta)` | í´ë¦­ ì‹œ ìƒì„¸ ë„¤ë¹„ê²Œì´ì…˜ |
| `toggleTimelineFilter(type)` | íƒ€ì… í•„í„° í† ê¸€ |
| `toggleTimelineCollapse()` | ì ‘ê¸°/í¼ì¹˜ê¸° |
| `initTimeRangeSlider()` | ë“€ì–¼ í•¸ë“¤ ë“œë˜ê·¸ ì´ë²¤íŠ¸ ì´ˆê¸°í™” |
| `updateTimeRangeUI()` | ìŠ¬ë¼ì´ë” í•¸ë“¤/í™œì„±ë°”/ë¼ë²¨ ì—…ë°ì´íŠ¸ |

---

## 1.2 í†µí•© ê²€ìƒ‰ (Global Search) â€” êµ¬í˜„ ì™„ë£Œ

### API: `GET /api/search`

```
GET /api/search?q=graceful+shutdown&types=session,memo,job,backlog
```

**ê²€ìƒ‰ ë²”ìœ„:**
- ëŒ€ì‹œë³´ë“œ ë©”ëª¨ (`loadQuickMemos()`)
- Obsidian ë©”ëª¨ (`parseObsidianMemos()`, ìµœê·¼ 7ì¼)
- Claude ì„¸ì…˜ (`findSessions()`, ìµœê·¼ 7ì¼ â€” alias, project, firstMessage)
- ì‘ì—… ì´ë ¥ (`jobHistory` â€” jobName, jobId)
- ë°±ë¡œê·¸ (`loadBacklogs()`)

**Response:**
```json
{
  "results": [
    {
      "type": "memo",
      "id": "memo-123",
      "title": "ECS ì—ì„œ graceful shutdown í™•ì¸ì¤‘",
      "preview": "ì´ë•Œ, ê·¼ë° dumb init ì´ í•„ìš”í–ˆë˜ê±° ê°™ìŒ...",
      "date": "2026-02-06",
      "time": "2026-02-06T09:30:00",
      "icon": "ğŸ““"
    }
  ],
  "total": 2
}
```

### UI: Cmd+K / `/` ê²€ìƒ‰ ëª¨ë‹¬

- `globalSearchModal`: ì˜¤ë²„ë ˆì´ + ê²€ìƒ‰ ì…ë ¥ + ê²°ê³¼ ëª©ë¡
- 250ms ë””ë°”ìš´ìŠ¤ ê²€ìƒ‰
- í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜: `â†‘â†“` ì„ íƒ, `Enter` ì´ë™, `Esc` ë‹«ê¸°
- ë§ˆìš°ìŠ¤ hoverë¡œ ì„ íƒ, í´ë¦­ìœ¼ë¡œ ì´ë™
- ê²€ìƒ‰ì–´ í•˜ì´ë¼ì´íŠ¸ (ë…¸ë€ìƒ‰ ë§ˆí¬)
- ê²°ê³¼ í´ë¦­ ì‹œ: session â†’ ì„¸ì…˜ ìƒì„¸, job â†’ ì‹¤í–‰ì´ë ¥, memo â†’ ë…¸íŠ¸íƒ­, backlog â†’ ë…¸íŠ¸íƒ­

### ì£¼ìš” í•¨ìˆ˜ (index.html)

| í•¨ìˆ˜ | ì—­í•  |
|------|------|
| `openGlobalSearch()` / `closeGlobalSearch()` | ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸° |
| `debounceGlobalSearch()` | ë””ë°”ìš´ìŠ¤ íŠ¸ë¦¬ê±° |
| `executeGlobalSearch()` | API í˜¸ì¶œ + ê²°ê³¼ ë Œë”ë§ |
| `handleSearchKeydown(e)` | í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ |
| `navigateSearchResult(type, idx)` | ê²°ê³¼ í´ë¦­ â†’ í•´ë‹¹ í™”ë©´ ì´ë™ |
| `highlightQuery(text, query)` | ê²€ìƒ‰ì–´ í•˜ì´ë¼ì´íŠ¸ |

---

## 1.3 ë‚ ì§œ ë„¤ë¹„ê²Œì´ì…˜ í†µí•© â€” êµ¬í˜„ ì™„ë£Œ

í™ˆ ëŒ€ì‹œë³´ë“œ ìƒë‹¨ì— ë‚ ì§œ ì„ íƒê¸° ì¶”ê°€ (ë…¸íŠ¸ íƒ­ íŒ¨í„´ ì¬ì‚¬ìš©):

- `homeDate` ìƒíƒœ ë³€ìˆ˜ë¡œ í˜„ì¬ ì¡°íšŒ ë‚ ì§œ ê´€ë¦¬
- `â€¹` / `â€º` ë²„íŠ¼ìœ¼ë¡œ í•˜ë£¨ì”© ì´ë™
- ë‚ ì§œ ë¼ë²¨ í´ë¦­ ì‹œ date picker ì—´ë¦¼
- "ì˜¤ëŠ˜" ë²„íŠ¼ìœ¼ë¡œ ì˜¤ëŠ˜ ë‚ ì§œ ë³µê·€
- ë¯¸ë˜ ë‚ ì§œ `â€º` ë¹„í™œì„±í™”
- ë‚ ì§œ ë³€ê²½ ì‹œ â†’ `loadHomeDashboard()` (ìš”ì•½ì¹´ë“œ + ìµœê·¼ ì‹¤í–‰/ë©”ëª¨) + `loadTimeline()` (íƒ€ì„ë¼ì¸) ê°±ì‹ 

### ì£¼ìš” í•¨ìˆ˜ (index.html)

| í•¨ìˆ˜ | ì—­í•  |
|------|------|
| `initHomeDate()` | ì´ˆê¸°í™” + UI ì—…ë°ì´íŠ¸ |
| `updateHomeDateUI()` | ë¼ë²¨ í…ìŠ¤íŠ¸ + ë¯¸ë˜ ë¹„í™œì„±í™” |
| `setHomeDate(dateStr)` | ë‚ ì§œ ì„¤ì • + ë°ì´í„° ë¦¬ë¡œë“œ |
| `shiftHomeDate(delta)` | +1/-1ì¼ ì´ë™ |
| `setHomeToday()` | ì˜¤ëŠ˜ë¡œ ë³µê·€ |

---

## ê²€ì¦ ë°©ë²•

### 1.1 í†µí•© íƒ€ì„ë¼ì¸ (êµ¬í˜„ ì™„ë£Œ)
1. `npm run dev` ì„œë²„ ì‹œì‘
2. http://localhost:3030 ì ‘ì† â†’ í™ˆ íƒ­ì— íƒ€ì„ë¼ì¸ í‘œì‹œ í™•ì¸
3. íƒ€ì„ë¼ì¸ í•­ëª© í´ë¦­ â†’ í•´ë‹¹ ìƒì„¸ ë³´ê¸°ë¡œ ì´ë™ í™•ì¸
4. íƒ€ì… í•„í„° chip í† ê¸€ â†’ í•­ëª© í•„í„°ë§ í™•ì¸
5. ì‹œê°„ ë²”ìœ„ ìŠ¬ë¼ì´ë” ë“œë˜ê·¸ â†’ í•´ë‹¹ ì‹œê°„ëŒ€ í•­ëª©ë§Œ í‘œì‹œ í™•ì¸
6. íƒ€ì„ë¼ì¸ í—¤ë” í´ë¦­ â†’ ì ‘ê¸°/í¼ì¹˜ê¸° í™•ì¸
7. `curl "http://localhost:3030/api/timeline?date=2026-02-06" | jq` ë¡œ API ì‘ë‹µ í™•ì¸

### 1.2 í†µí•© ê²€ìƒ‰ (êµ¬í˜„ ì™„ë£Œ)
1. Cmd+K ë˜ëŠ” `/` í‚¤ â†’ ê²€ìƒ‰ ëª¨ë‹¬ ì—´ë¦¼ í™•ì¸
2. ê²€ìƒ‰ì–´ ì…ë ¥ â†’ 250ms í›„ ê²°ê³¼ í‘œì‹œ í™•ì¸
3. `â†‘â†“` í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ â†’ ì„ íƒ ì´ë™ í™•ì¸
4. `Enter` ë˜ëŠ” í´ë¦­ â†’ í•´ë‹¹ í™”ë©´ ì´ë™ í™•ì¸
5. `curl "http://localhost:3030/api/search?q=graceful" | jq` ë¡œ ê²€ìƒ‰ API í™•ì¸

### 1.3 ë‚ ì§œ ë„¤ë¹„ê²Œì´ì…˜ (êµ¬í˜„ ì™„ë£Œ)
1. í™ˆ íƒ­ ìƒë‹¨ `â€¹` / `â€º` ë²„íŠ¼ â†’ ë‚ ì§œ ì´ë™ í™•ì¸
2. ë‚ ì§œ ë³€ê²½ ì‹œ â†’ ìš”ì•½ì¹´ë“œ + íƒ€ì„ë¼ì¸ + ìµœê·¼ ì‹¤í–‰/ë©”ëª¨ ê°±ì‹  í™•ì¸
3. ë¯¸ë˜ ë‚ ì§œ ì´ë™ ë¶ˆê°€ í™•ì¸
4. "ì˜¤ëŠ˜" ë²„íŠ¼ â†’ ì˜¤ëŠ˜ ë‚ ì§œ ë³µê·€ í™•ì¸
